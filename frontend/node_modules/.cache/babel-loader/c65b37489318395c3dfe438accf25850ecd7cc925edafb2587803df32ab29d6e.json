{"ast":null,"code":"import React,{useState}from'react';import{motion}from'framer-motion';import{BarChart,Bar,XAxis,YAxis,CartesianGrid,Tooltip,ResponsiveContainer,PieChart,Pie,Cell,ScatterChart,Scatter,LineChart,Line}from'recharts';import{Dna,AlertTriangle,CheckCircle,Info,Filter,Eye,Download}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const GenomicsVisualization=_ref=>{let{data,type='variants'}=_ref;const[selectedVariant,setSelectedVariant]=useState(null);const[filterLevel,setFilterLevel]=useState('all');// Color schemes for different visualization types\nconst colors={pathogenic:'#ef4444',likelyPathogenic:'#f97316',vus:'#eab308',likelyBenign:'#84cc16',benign:'#22c55e'};const riskColors={high:'#dc2626',moderate:'#f59e0b',low:'#10b981'};// Mock data for demonstration\nconst variantData=[{name:'Pathogenic',value:2,color:colors.pathogenic},{name:'Likely Pathogenic',value:1,color:colors.likelyPathogenic},{name:'VUS',value:3,color:colors.vus},{name:'Likely Benign',value:8,color:colors.likelyBenign},{name:'Benign',value:15,color:colors.benign}];const geneExpressionData=[{gene:'BRCA1',expression:85,baseline:100,significance:'high'},{gene:'TP53',expression:45,baseline:100,significance:'high'},{gene:'EGFR',expression:120,baseline:100,significance:'moderate'},{gene:'KRAS',expression:95,baseline:100,significance:'low'},{gene:'PIK3CA',expression:110,baseline:100,significance:'moderate'}];const chromosomeData=[{chromosome:'chr1',variants:5,pathogenic:1},{chromosome:'chr2',variants:3,pathogenic:0},{chromosome:'chr17',variants:8,pathogenic:3},{chromosome:'chrX',variants:2,pathogenic:0},{chromosome:'chrY',variants:1,pathogenic:0}];const CustomTooltip=_ref2=>{let{active,payload,label}=_ref2;if(active&&payload&&payload.length){return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-3 border border-gray-200 rounded-lg shadow-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-gray-900\",children:label}),payload.map((entry,index)=>/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm\",style:{color:entry.color},children:[entry.name,\": \",entry.value]},index))]});}return null;};const VariantPieChart=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6 border border-gray-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Variant Classification\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Filter,{className:\"h-4 w-4 text-gray-400\"}),/*#__PURE__*/_jsxs(\"select\",{value:filterLevel,onChange:e=>setFilterLevel(e.target.value),className:\"text-sm border border-gray-300 rounded px-2 py-1\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Variants\"}),/*#__PURE__*/_jsx(\"option\",{value:\"significant\",children:\"Significant Only\"}),/*#__PURE__*/_jsx(\"option\",{value:\"pathogenic\",children:\"Pathogenic Only\"})]})]})]}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(PieChart,{children:[/*#__PURE__*/_jsx(Pie,{data:variantData,cx:\"50%\",cy:\"50%\",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:\"value\",onMouseEnter:data=>setSelectedVariant(data),onMouseLeave:()=>setSelectedVariant(null),children:variantData.map((entry,index)=>/*#__PURE__*/_jsx(Cell,{fill:entry.color,stroke:(selectedVariant===null||selectedVariant===void 0?void 0:selectedVariant.name)===entry.name?'#1f2937':'none',strokeWidth:(selectedVariant===null||selectedVariant===void 0?void 0:selectedVariant.name)===entry.name?2:0},\"cell-\".concat(index)))}),/*#__PURE__*/_jsx(Tooltip,{content:/*#__PURE__*/_jsx(CustomTooltip,{})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 gap-2 mt-4\",children:variantData.map((item,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 p-2 rounded cursor-pointer transition-colors \".concat((selectedVariant===null||selectedVariant===void 0?void 0:selectedVariant.name)===item.name?'bg-gray-100':'hover:bg-gray-50'),onMouseEnter:()=>setSelectedVariant(item),onMouseLeave:()=>setSelectedVariant(null),children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 rounded-full\",style:{backgroundColor:item.color}}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:item.name}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium text-gray-900\",children:[\"(\",item.value,\")\"]})]},index))})]});const GeneExpressionChart=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6 border border-gray-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Gene Expression Levels\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"flex items-center space-x-1 text-sm text-blue-600 hover:text-blue-700\",children:[/*#__PURE__*/_jsx(Eye,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"View Details\"})]})]}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(BarChart,{data:geneExpressionData,margin:{top:20,right:30,left:20,bottom:5},children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\",stroke:\"#f3f4f6\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"gene\",tick:{fontSize:12}}),/*#__PURE__*/_jsx(YAxis,{tick:{fontSize:12}}),/*#__PURE__*/_jsx(Tooltip,{content:/*#__PURE__*/_jsx(CustomTooltip,{})}),/*#__PURE__*/_jsx(Bar,{dataKey:\"baseline\",fill:\"#e5e7eb\",name:\"Baseline\"}),/*#__PURE__*/_jsx(Bar,{dataKey:\"expression\",fill:\"#3b82f6\",name:\"Expression\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 grid grid-cols-3 gap-4 text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 bg-red-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-red-600\",children:\"2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-red-700\",children:\"Downregulated\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-gray-600\",children:\"1\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-700\",children:\"Normal\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 bg-green-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-green-600\",children:\"2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-green-700\",children:\"Upregulated\"})]})]})]});const ChromosomeDistribution=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6 border border-gray-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Chromosome Distribution\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"flex items-center space-x-1 text-sm text-blue-600 hover:text-blue-700\",children:[/*#__PURE__*/_jsx(Download,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Export\"})]})]}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:250,children:/*#__PURE__*/_jsxs(BarChart,{data:chromosomeData,margin:{top:20,right:30,left:20,bottom:5},children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\",stroke:\"#f3f4f6\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"chromosome\",tick:{fontSize:12}}),/*#__PURE__*/_jsx(YAxis,{tick:{fontSize:12}}),/*#__PURE__*/_jsx(Tooltip,{content:/*#__PURE__*/_jsx(CustomTooltip,{})}),/*#__PURE__*/_jsx(Bar,{dataKey:\"variants\",fill:\"#6366f1\",name:\"Total Variants\"}),/*#__PURE__*/_jsx(Bar,{dataKey:\"pathogenic\",fill:\"#ef4444\",name:\"Pathogenic\"})]})})]});const VariantTable=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg border border-gray-200 overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 border-b border-gray-200\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Significant Variants\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Gene\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Variant\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Significance\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Impact\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:[{gene:'BRCA1',variant:'c.5266dupC',type:'Frameshift',significance:'Pathogenic',impact:'High'},{gene:'TP53',variant:'c.524G>A',type:'Missense',significance:'Likely Pathogenic',impact:'High'},{gene:'BRCA1',variant:'c.181T>G',type:'Missense',significance:'VUS',impact:'Uncertain'}].map((variant,index)=>/*#__PURE__*/_jsxs(motion.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:index*0.1},className:\"hover:bg-gray-50 cursor-pointer\",onClick:()=>setSelectedVariant(variant),children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\",children:variant.gene}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 font-mono\",children:variant.variant}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",children:variant.type}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex px-2 py-1 text-xs font-semibold rounded-full \".concat(variant.significance==='Pathogenic'?'bg-red-100 text-red-800':variant.significance==='Likely Pathogenic'?'bg-orange-100 text-orange-800':'bg-yellow-100 text-yellow-800'),children:variant.significance})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[variant.impact==='High'&&/*#__PURE__*/_jsx(AlertTriangle,{className:\"h-4 w-4 text-red-500 mr-1\"}),variant.impact==='Uncertain'&&/*#__PURE__*/_jsx(Info,{className:\"h-4 w-4 text-yellow-500 mr-1\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-500\",children:variant.impact})]})})]},index))})]})})]});// Render different visualization types\nswitch(type){case'variants':return/*#__PURE__*/_jsx(VariantPieChart,{});case'expression':return/*#__PURE__*/_jsx(GeneExpressionChart,{});case'chromosomes':return/*#__PURE__*/_jsx(ChromosomeDistribution,{});case'table':return/*#__PURE__*/_jsx(VariantTable,{});default:return/*#__PURE__*/_jsxs(\"div\",{className:\"grid lg:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsx(VariantPieChart,{}),/*#__PURE__*/_jsx(GeneExpressionChart,{}),/*#__PURE__*/_jsx(\"div\",{className:\"lg:col-span-2\",children:/*#__PURE__*/_jsx(ChromosomeDistribution,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"lg:col-span-2\",children:/*#__PURE__*/_jsx(VariantTable,{})})]});}};export default GenomicsVisualization;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}