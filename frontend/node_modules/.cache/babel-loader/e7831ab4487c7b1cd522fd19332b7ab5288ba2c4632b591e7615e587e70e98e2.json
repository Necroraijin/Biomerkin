{"ast":null,"code":"import axios from'axios';// Create axios instance with default configuration\nconst api=axios.create({baseURL:process.env.REACT_APP_API_URL||'http://localhost:3001/api',timeout:30000,// 30 seconds\nheaders:{'Content-Type':'application/json'}});// Request interceptor\napi.interceptors.request.use(config=>{var _config$method;// Add auth token if available\nconst token=localStorage.getItem('authToken');if(token){config.headers.Authorization=\"Bearer \".concat(token);}// Add request timestamp\nconfig.metadata={startTime:new Date()};console.log(\"API Request: \".concat((_config$method=config.method)===null||_config$method===void 0?void 0:_config$method.toUpperCase(),\" \").concat(config.url));return config;},error=>{console.error('API Request Error:',error);return Promise.reject(error);});// Response interceptor\napi.interceptors.response.use(response=>{// Calculate request duration\nconst duration=new Date()-response.config.metadata.startTime;console.log(\"API Response: \".concat(response.status,\" \").concat(response.config.url,\" (\").concat(duration,\"ms)\"));return response;},error=>{var _error$config,_error$response,_error$config2,_error$response2,_error$response3;const duration=(_error$config=error.config)!==null&&_error$config!==void 0&&_error$config.metadata?new Date()-error.config.metadata.startTime:0;console.error(\"API Error: \".concat(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)||'Network',\" \").concat((_error$config2=error.config)===null||_error$config2===void 0?void 0:_error$config2.url,\" (\").concat(duration,\"ms)\"),error);// Handle specific error cases\nif(((_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.status)===401){// Unauthorized - clear auth token and redirect to login\nlocalStorage.removeItem('authToken');window.location.href='/login';}else if(((_error$response3=error.response)===null||_error$response3===void 0?void 0:_error$response3.status)===429){// Rate limited - show user-friendly message\nerror.userMessage='Too many requests. Please wait a moment and try again.';}else if(error.code==='ECONNABORTED'){// Timeout\nerror.userMessage='Request timed out. Please check your connection and try again.';}else if(!error.response){// Network error\nerror.userMessage='Network error. Please check your connection and try again.';}return Promise.reject(error);});// API service methods\nexport const analysisService={// Start a new analysis\nstartAnalysis:formData=>{return api.post('/analysis/start',formData,{headers:{'Content-Type':'multipart/form-data'}});},// Get analysis status\ngetAnalysisStatus:workflowId=>{return api.get(\"/analysis/status/\".concat(workflowId));},// Get analysis results\ngetAnalysisResults:workflowId=>{return api.get(\"/analysis/results/\".concat(workflowId));},// Download analysis report\ndownloadReport:function(workflowId){let format=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'pdf';return api.get(\"/analysis/report/\".concat(workflowId),{params:{format},responseType:'blob'});},// Get sample data\ngetSampleData:()=>{return api.get('/analysis/samples');},// Cancel analysis\ncancelAnalysis:workflowId=>{return api.post(\"/analysis/cancel/\".concat(workflowId));}};export const demoService={// Get demo scenarios\ngetDemoScenarios:()=>{return api.get('/demo/scenarios');},// Start demo analysis\nstartDemo:scenarioId=>{return api.post(\"/demo/start/\".concat(scenarioId));},// Get demo results\ngetDemoResults:demoId=>{return api.get(\"/demo/results/\".concat(demoId));}};export const systemService={// Get system health\ngetHealth:()=>{return api.get('/health');},// Get system metrics\ngetMetrics:()=>{return api.get('/metrics');},// Get agent status\ngetAgentStatus:()=>{return api.get('/agents/status');}};// Utility functions\nexport const handleApiError=error=>{var _error$response4,_error$response4$data,_error$response5,_error$response5$data;if(error.userMessage){return error.userMessage;}if((_error$response4=error.response)!==null&&_error$response4!==void 0&&(_error$response4$data=_error$response4.data)!==null&&_error$response4$data!==void 0&&_error$response4$data.message){return error.response.data.message;}if((_error$response5=error.response)!==null&&_error$response5!==void 0&&(_error$response5$data=_error$response5.data)!==null&&_error$response5$data!==void 0&&_error$response5$data.error){return error.response.data.error;}return'An unexpected error occurred. Please try again.';};export const isNetworkError=error=>{return!error.response&&error.code!=='ECONNABORTED';};export const isTimeoutError=error=>{return error.code==='ECONNABORTED';};export const isServerError=error=>{return error.response&&error.response.status>=500;};export const isClientError=error=>{return error.response&&error.response.status>=400&&error.response.status<500;};// Export the configured axios instance as default\nexport default api;","map":{"version":3,"names":["axios","api","create","baseURL","process","env","REACT_APP_API_URL","timeout","headers","interceptors","request","use","config","_config$method","token","localStorage","getItem","Authorization","concat","metadata","startTime","Date","console","log","method","toUpperCase","url","error","Promise","reject","response","duration","status","_error$config","_error$response","_error$config2","_error$response2","_error$response3","removeItem","window","location","href","userMessage","code","analysisService","startAnalysis","formData","post","getAnalysisStatus","workflowId","get","getAnalysisResults","downloadReport","format","arguments","length","undefined","params","responseType","getSampleData","cancelAnalysis","demoService","getDemoScenarios","startDemo","scenarioId","getDemoResults","demoId","systemService","getHealth","getMetrics","getAgentStatus","handleApiError","_error$response4","_error$response4$data","_error$response5","_error$response5$data","data","message","isNetworkError","isTimeoutError","isServerError","isClientError"],"sources":["C:/Users/Sumit/Desktop/Biomerkin/frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\n// Create axios instance with default configuration\r\nconst api = axios.create({\r\n  baseURL: process.env.REACT_APP_API_URL || 'http://localhost:3001/api',\r\n  timeout: 30000, // 30 seconds\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\n// Request interceptor\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    // Add auth token if available\r\n    const token = localStorage.getItem('authToken');\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    \r\n    // Add request timestamp\r\n    config.metadata = { startTime: new Date() };\r\n    \r\n    console.log(`API Request: ${config.method?.toUpperCase()} ${config.url}`);\r\n    return config;\r\n  },\r\n  (error) => {\r\n    console.error('API Request Error:', error);\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Response interceptor\r\napi.interceptors.response.use(\r\n  (response) => {\r\n    // Calculate request duration\r\n    const duration = new Date() - response.config.metadata.startTime;\r\n    console.log(`API Response: ${response.status} ${response.config.url} (${duration}ms)`);\r\n    \r\n    return response;\r\n  },\r\n  (error) => {\r\n    const duration = error.config?.metadata ? new Date() - error.config.metadata.startTime : 0;\r\n    console.error(`API Error: ${error.response?.status || 'Network'} ${error.config?.url} (${duration}ms)`, error);\r\n    \r\n    // Handle specific error cases\r\n    if (error.response?.status === 401) {\r\n      // Unauthorized - clear auth token and redirect to login\r\n      localStorage.removeItem('authToken');\r\n      window.location.href = '/login';\r\n    } else if (error.response?.status === 429) {\r\n      // Rate limited - show user-friendly message\r\n      error.userMessage = 'Too many requests. Please wait a moment and try again.';\r\n    } else if (error.code === 'ECONNABORTED') {\r\n      // Timeout\r\n      error.userMessage = 'Request timed out. Please check your connection and try again.';\r\n    } else if (!error.response) {\r\n      // Network error\r\n      error.userMessage = 'Network error. Please check your connection and try again.';\r\n    }\r\n    \r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// API service methods\r\nexport const analysisService = {\r\n  // Start a new analysis\r\n  startAnalysis: (formData) => {\r\n    return api.post('/analysis/start', formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data',\r\n      },\r\n    });\r\n  },\r\n  \r\n  // Get analysis status\r\n  getAnalysisStatus: (workflowId) => {\r\n    return api.get(`/analysis/status/${workflowId}`);\r\n  },\r\n  \r\n  // Get analysis results\r\n  getAnalysisResults: (workflowId) => {\r\n    return api.get(`/analysis/results/${workflowId}`);\r\n  },\r\n  \r\n  // Download analysis report\r\n  downloadReport: (workflowId, format = 'pdf') => {\r\n    return api.get(`/analysis/report/${workflowId}`, {\r\n      params: { format },\r\n      responseType: 'blob',\r\n    });\r\n  },\r\n  \r\n  // Get sample data\r\n  getSampleData: () => {\r\n    return api.get('/analysis/samples');\r\n  },\r\n  \r\n  // Cancel analysis\r\n  cancelAnalysis: (workflowId) => {\r\n    return api.post(`/analysis/cancel/${workflowId}`);\r\n  },\r\n};\r\n\r\nexport const demoService = {\r\n  // Get demo scenarios\r\n  getDemoScenarios: () => {\r\n    return api.get('/demo/scenarios');\r\n  },\r\n  \r\n  // Start demo analysis\r\n  startDemo: (scenarioId) => {\r\n    return api.post(`/demo/start/${scenarioId}`);\r\n  },\r\n  \r\n  // Get demo results\r\n  getDemoResults: (demoId) => {\r\n    return api.get(`/demo/results/${demoId}`);\r\n  },\r\n};\r\n\r\nexport const systemService = {\r\n  // Get system health\r\n  getHealth: () => {\r\n    return api.get('/health');\r\n  },\r\n  \r\n  // Get system metrics\r\n  getMetrics: () => {\r\n    return api.get('/metrics');\r\n  },\r\n  \r\n  // Get agent status\r\n  getAgentStatus: () => {\r\n    return api.get('/agents/status');\r\n  },\r\n};\r\n\r\n// Utility functions\r\nexport const handleApiError = (error) => {\r\n  if (error.userMessage) {\r\n    return error.userMessage;\r\n  }\r\n  \r\n  if (error.response?.data?.message) {\r\n    return error.response.data.message;\r\n  }\r\n  \r\n  if (error.response?.data?.error) {\r\n    return error.response.data.error;\r\n  }\r\n  \r\n  return 'An unexpected error occurred. Please try again.';\r\n};\r\n\r\nexport const isNetworkError = (error) => {\r\n  return !error.response && error.code !== 'ECONNABORTED';\r\n};\r\n\r\nexport const isTimeoutError = (error) => {\r\n  return error.code === 'ECONNABORTED';\r\n};\r\n\r\nexport const isServerError = (error) => {\r\n  return error.response && error.response.status >= 500;\r\n};\r\n\r\nexport const isClientError = (error) => {\r\n  return error.response && error.response.status >= 400 && error.response.status < 500;\r\n};\r\n\r\n// Export the configured axios instance as default\r\nexport default api;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB;AACA,KAAM,CAAAC,GAAG,CAAGD,KAAK,CAACE,MAAM,CAAC,CACvBC,OAAO,CAAEC,OAAO,CAACC,GAAG,CAACC,iBAAiB,EAAI,2BAA2B,CACrEC,OAAO,CAAE,KAAK,CAAE;AAChBC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,CAEF;AACAP,GAAG,CAACQ,YAAY,CAACC,OAAO,CAACC,GAAG,CACzBC,MAAM,EAAK,KAAAC,cAAA,CACV;AACA,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAC/C,GAAIF,KAAK,CAAE,CACTF,MAAM,CAACJ,OAAO,CAACS,aAAa,WAAAC,MAAA,CAAaJ,KAAK,CAAE,CAClD,CAEA;AACAF,MAAM,CAACO,QAAQ,CAAG,CAAEC,SAAS,CAAE,GAAI,CAAAC,IAAI,CAAC,CAAE,CAAC,CAE3CC,OAAO,CAACC,GAAG,iBAAAL,MAAA,EAAAL,cAAA,CAAiBD,MAAM,CAACY,MAAM,UAAAX,cAAA,iBAAbA,cAAA,CAAeY,WAAW,CAAC,CAAC,MAAAP,MAAA,CAAIN,MAAM,CAACc,GAAG,CAAE,CAAC,CACzE,MAAO,CAAAd,MAAM,CACf,CAAC,CACAe,KAAK,EAAK,CACTL,OAAO,CAACK,KAAK,CAAC,oBAAoB,CAAEA,KAAK,CAAC,CAC1C,MAAO,CAAAC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC,CAC9B,CACF,CAAC,CAED;AACA1B,GAAG,CAACQ,YAAY,CAACqB,QAAQ,CAACnB,GAAG,CAC1BmB,QAAQ,EAAK,CACZ;AACA,KAAM,CAAAC,QAAQ,CAAG,GAAI,CAAAV,IAAI,CAAC,CAAC,CAAGS,QAAQ,CAAClB,MAAM,CAACO,QAAQ,CAACC,SAAS,CAChEE,OAAO,CAACC,GAAG,kBAAAL,MAAA,CAAkBY,QAAQ,CAACE,MAAM,MAAAd,MAAA,CAAIY,QAAQ,CAAClB,MAAM,CAACc,GAAG,OAAAR,MAAA,CAAKa,QAAQ,OAAK,CAAC,CAEtF,MAAO,CAAAD,QAAQ,CACjB,CAAC,CACAH,KAAK,EAAK,KAAAM,aAAA,CAAAC,eAAA,CAAAC,cAAA,CAAAC,gBAAA,CAAAC,gBAAA,CACT,KAAM,CAAAN,QAAQ,CAAG,CAAAE,aAAA,CAAAN,KAAK,CAACf,MAAM,UAAAqB,aAAA,WAAZA,aAAA,CAAcd,QAAQ,CAAG,GAAI,CAAAE,IAAI,CAAC,CAAC,CAAGM,KAAK,CAACf,MAAM,CAACO,QAAQ,CAACC,SAAS,CAAG,CAAC,CAC1FE,OAAO,CAACK,KAAK,eAAAT,MAAA,CAAe,EAAAgB,eAAA,CAAAP,KAAK,CAACG,QAAQ,UAAAI,eAAA,iBAAdA,eAAA,CAAgBF,MAAM,GAAI,SAAS,MAAAd,MAAA,EAAAiB,cAAA,CAAIR,KAAK,CAACf,MAAM,UAAAuB,cAAA,iBAAZA,cAAA,CAAcT,GAAG,OAAAR,MAAA,CAAKa,QAAQ,QAAOJ,KAAK,CAAC,CAE9G;AACA,GAAI,EAAAS,gBAAA,CAAAT,KAAK,CAACG,QAAQ,UAAAM,gBAAA,iBAAdA,gBAAA,CAAgBJ,MAAM,IAAK,GAAG,CAAE,CAClC;AACAjB,YAAY,CAACuB,UAAU,CAAC,WAAW,CAAC,CACpCC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,QAAQ,CACjC,CAAC,IAAM,IAAI,EAAAJ,gBAAA,CAAAV,KAAK,CAACG,QAAQ,UAAAO,gBAAA,iBAAdA,gBAAA,CAAgBL,MAAM,IAAK,GAAG,CAAE,CACzC;AACAL,KAAK,CAACe,WAAW,CAAG,wDAAwD,CAC9E,CAAC,IAAM,IAAIf,KAAK,CAACgB,IAAI,GAAK,cAAc,CAAE,CACxC;AACAhB,KAAK,CAACe,WAAW,CAAG,gEAAgE,CACtF,CAAC,IAAM,IAAI,CAACf,KAAK,CAACG,QAAQ,CAAE,CAC1B;AACAH,KAAK,CAACe,WAAW,CAAG,4DAA4D,CAClF,CAEA,MAAO,CAAAd,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC,CAC9B,CACF,CAAC,CAED;AACA,MAAO,MAAM,CAAAiB,eAAe,CAAG,CAC7B;AACAC,aAAa,CAAGC,QAAQ,EAAK,CAC3B,MAAO,CAAA7C,GAAG,CAAC8C,IAAI,CAAC,iBAAiB,CAAED,QAAQ,CAAE,CAC3CtC,OAAO,CAAE,CACP,cAAc,CAAE,qBAClB,CACF,CAAC,CAAC,CACJ,CAAC,CAED;AACAwC,iBAAiB,CAAGC,UAAU,EAAK,CACjC,MAAO,CAAAhD,GAAG,CAACiD,GAAG,qBAAAhC,MAAA,CAAqB+B,UAAU,CAAE,CAAC,CAClD,CAAC,CAED;AACAE,kBAAkB,CAAGF,UAAU,EAAK,CAClC,MAAO,CAAAhD,GAAG,CAACiD,GAAG,sBAAAhC,MAAA,CAAsB+B,UAAU,CAAE,CAAC,CACnD,CAAC,CAED;AACAG,cAAc,CAAE,QAAAA,CAACH,UAAU,CAAqB,IAAnB,CAAAI,MAAM,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,KAAK,CACzC,MAAO,CAAArD,GAAG,CAACiD,GAAG,qBAAAhC,MAAA,CAAqB+B,UAAU,EAAI,CAC/CQ,MAAM,CAAE,CAAEJ,MAAO,CAAC,CAClBK,YAAY,CAAE,MAChB,CAAC,CAAC,CACJ,CAAC,CAED;AACAC,aAAa,CAAEA,CAAA,GAAM,CACnB,MAAO,CAAA1D,GAAG,CAACiD,GAAG,CAAC,mBAAmB,CAAC,CACrC,CAAC,CAED;AACAU,cAAc,CAAGX,UAAU,EAAK,CAC9B,MAAO,CAAAhD,GAAG,CAAC8C,IAAI,qBAAA7B,MAAA,CAAqB+B,UAAU,CAAE,CAAC,CACnD,CACF,CAAC,CAED,MAAO,MAAM,CAAAY,WAAW,CAAG,CACzB;AACAC,gBAAgB,CAAEA,CAAA,GAAM,CACtB,MAAO,CAAA7D,GAAG,CAACiD,GAAG,CAAC,iBAAiB,CAAC,CACnC,CAAC,CAED;AACAa,SAAS,CAAGC,UAAU,EAAK,CACzB,MAAO,CAAA/D,GAAG,CAAC8C,IAAI,gBAAA7B,MAAA,CAAgB8C,UAAU,CAAE,CAAC,CAC9C,CAAC,CAED;AACAC,cAAc,CAAGC,MAAM,EAAK,CAC1B,MAAO,CAAAjE,GAAG,CAACiD,GAAG,kBAAAhC,MAAA,CAAkBgD,MAAM,CAAE,CAAC,CAC3C,CACF,CAAC,CAED,MAAO,MAAM,CAAAC,aAAa,CAAG,CAC3B;AACAC,SAAS,CAAEA,CAAA,GAAM,CACf,MAAO,CAAAnE,GAAG,CAACiD,GAAG,CAAC,SAAS,CAAC,CAC3B,CAAC,CAED;AACAmB,UAAU,CAAEA,CAAA,GAAM,CAChB,MAAO,CAAApE,GAAG,CAACiD,GAAG,CAAC,UAAU,CAAC,CAC5B,CAAC,CAED;AACAoB,cAAc,CAAEA,CAAA,GAAM,CACpB,MAAO,CAAArE,GAAG,CAACiD,GAAG,CAAC,gBAAgB,CAAC,CAClC,CACF,CAAC,CAED;AACA,MAAO,MAAM,CAAAqB,cAAc,CAAI5C,KAAK,EAAK,KAAA6C,gBAAA,CAAAC,qBAAA,CAAAC,gBAAA,CAAAC,qBAAA,CACvC,GAAIhD,KAAK,CAACe,WAAW,CAAE,CACrB,MAAO,CAAAf,KAAK,CAACe,WAAW,CAC1B,CAEA,IAAA8B,gBAAA,CAAI7C,KAAK,CAACG,QAAQ,UAAA0C,gBAAA,YAAAC,qBAAA,CAAdD,gBAAA,CAAgBI,IAAI,UAAAH,qBAAA,WAApBA,qBAAA,CAAsBI,OAAO,CAAE,CACjC,MAAO,CAAAlD,KAAK,CAACG,QAAQ,CAAC8C,IAAI,CAACC,OAAO,CACpC,CAEA,IAAAH,gBAAA,CAAI/C,KAAK,CAACG,QAAQ,UAAA4C,gBAAA,YAAAC,qBAAA,CAAdD,gBAAA,CAAgBE,IAAI,UAAAD,qBAAA,WAApBA,qBAAA,CAAsBhD,KAAK,CAAE,CAC/B,MAAO,CAAAA,KAAK,CAACG,QAAQ,CAAC8C,IAAI,CAACjD,KAAK,CAClC,CAEA,MAAO,iDAAiD,CAC1D,CAAC,CAED,MAAO,MAAM,CAAAmD,cAAc,CAAInD,KAAK,EAAK,CACvC,MAAO,CAACA,KAAK,CAACG,QAAQ,EAAIH,KAAK,CAACgB,IAAI,GAAK,cAAc,CACzD,CAAC,CAED,MAAO,MAAM,CAAAoC,cAAc,CAAIpD,KAAK,EAAK,CACvC,MAAO,CAAAA,KAAK,CAACgB,IAAI,GAAK,cAAc,CACtC,CAAC,CAED,MAAO,MAAM,CAAAqC,aAAa,CAAIrD,KAAK,EAAK,CACtC,MAAO,CAAAA,KAAK,CAACG,QAAQ,EAAIH,KAAK,CAACG,QAAQ,CAACE,MAAM,EAAI,GAAG,CACvD,CAAC,CAED,MAAO,MAAM,CAAAiD,aAAa,CAAItD,KAAK,EAAK,CACtC,MAAO,CAAAA,KAAK,CAACG,QAAQ,EAAIH,KAAK,CAACG,QAAQ,CAACE,MAAM,EAAI,GAAG,EAAIL,KAAK,CAACG,QAAQ,CAACE,MAAM,CAAG,GAAG,CACtF,CAAC,CAED;AACA,cAAe,CAAA/B,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}