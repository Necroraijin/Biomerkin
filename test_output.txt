2025-10-17 02:05:38 - biomerkin.utils.logging_config - INFO - Logging configured with level: INFO
================================================================================
BIOMERKIN END-TO-END MULTI-AGENT WORKFLOW TEST
================================================================================

[1/6] Loading DNA Sequence...
Γ£à Loaded sequence: 207 base pairs

[2/6] Running GenomicsAgent...
----------------------------------------
2025-10-17 02:05:38 - biomerkin.agents.base_agent.genomics - INFO - Starting genomic analysis
2025-10-17 02:05:38 - biomerkin.agents.base_agent.genomics - INFO - Parsed 1 sequences from C:\Users\Sumit\AppData\Local\Temp\tmpgelbs4b9.fasta
2025-10-17 02:05:38 - biomerkin.agents.base_agent.genomics - INFO - Translated 0 protein sequences
2025-10-17 02:05:38 - biomerkin.agents.base_agent.genomics - INFO - Genomic analysis completed. Found 0 genes, 0 mutations, 0 proteins
Γ£à GenomicsAgent completed
   - Genes found: 0
   - Mutations found: 0
   - Proteins translated: 0

[3/6] Running ProteomicsAgent...
----------------------------------------
ΓÜá∩╕Å  ProteomicsAgent skipped (no protein sequences)

[4/6] Running LiteratureAgent...
----------------------------------------
ΓÜá∩╕Å  Using mock gene data (BRCA1) for literature search
2025-10-17 02:05:39 - biomerkin.agents.base_agent.literature - INFO - Starting literature analysis
2025-10-17 02:05:39 - biomerkin.agents.base_agent.literature - INFO - Generated search terms: ['"BRCA1"[Gene Name]', '"BRCA1" AND "DNA repair and tumor suppression"']
2025-10-17 02:05:40 - biomerkin.agents.literature_agent - INFO - Found 6 articles for query: "BRCA1"[Gene Name]
2025-10-17 02:05:43 - biomerkin.agents.literature_agent - INFO - Found 6 articles for query: "BRCA1" AND "DNA repair and tumor suppression"
2025-10-17 02:05:45 - biomerkin.agents.base_agent.literature - ERROR - Error in literature analysis: 'NoneType' object is not subscriptable
2025-10-17 02:05:45 - biomerkin.agents.base_agent.literature - ERROR - Traceback: Traceback (most recent call last):
  File "C:\Users\Sumit\Desktop\Biomerkin\biomerkin\agents\literature_agent.py", line 353, in analyze_literature
    summary = self.generate_summary(articles, search_terms, genomics_results, proteomics_results)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Sumit\Desktop\Biomerkin\biomerkin\agents\literature_agent.py", line 541, in generate_summary
    Abstract: {article.abstract[:500]}...
               ~~~~~~~~~~~~~~~~^^^^^^
TypeError: 'NoneType' object is not subscriptable

Γ£à LiteratureAgent completed
   - Articles found: 0
   - Key findings: 1

[5/6] Running DrugAgent...
----------------------------------------
2025-10-17 02:05:45 - biomerkin.agents.base_agent.drug - INFO - Starting drug candidate identification
2025-10-17 02:05:46 - biomerkin.agents.base_agent.drug - INFO - Found 0 unique drug candidates from DrugBank
2025-10-17 02:05:46 - biomerkin.agents.base_agent.drug - INFO - No candidates found from API, generating mock data
2025-10-17 02:05:46 - biomerkin.agents.base_agent.drug - INFO - Generated 2 mock drug candidates
2025-10-17 02:05:48 - biomerkin.agents.base_agent.drug - INFO - Found 0 clinical trials
2025-10-17 02:05:48 - biomerkin.agents.base_agent.drug - INFO - No trials found from API, generating mock data
2025-10-17 02:05:48 - biomerkin.agents.base_agent.drug - INFO - Generated 2 mock clinical trials
2025-10-17 02:05:48 - biomerkin.agents.base_agent.drug - INFO - Analyzed interactions for 1 drug pairs
2025-10-17 02:05:48 - biomerkin.agents.base_agent.drug - INFO - Drug analysis completed. Found 2 candidates, 2 trials
Γ£à DrugAgent completed
   - Drug candidates: 2
   - Clinical trials: 2

[6/6] Running DecisionAgent...
----------------------------------------
2025-10-17 02:05:48 - biomerkin.agents.decision_agent - INFO - Starting medical report generation
2025-10-17 02:05:49 - biomerkin.agents.decision_agent - ERROR - Error with Bedrock: An error occurred (ResourceNotFoundException) when calling the InvokeModel operation: Model use case details have not been submitted for this account. Fill out the Anthropic use case details form before using the model. If you have already filled out the form, try again in 15 minutes.
2025-10-17 02:05:49 - biomerkin.agents.decision_agent - ERROR - Error with Bedrock: An error occurred (ResourceNotFoundException) when calling the InvokeModel operation: Model use case details have not been submitted for this account. Fill out the Anthropic use case details form before using the model. If you have already filled out the form, try again in 15 minutes.
2025-10-17 02:05:49 - biomerkin.agents.decision_agent - ERROR - Error with Bedrock: An error occurred (ResourceNotFoundException) when calling the InvokeModel operation: Model use case details have not been submitted for this account. Fill out the Anthropic use case details form before using the model. If you have already filled out the form, try again in 15 minutes.
2025-10-17 02:05:50 - biomerkin.agents.decision_agent - ERROR - Error with Bedrock: An error occurred (ResourceNotFoundException) when calling the InvokeModel operation: Model use case details have not been submitted for this account. Fill out the Anthropic use case details form before using the model. If you have already filled out the form, try again in 15 minutes.
2025-10-17 02:05:50 - biomerkin.agents.decision_agent - INFO - Medical report generated successfully: RPT_02EA9F30
Γ£à DecisionAgent completed
   - Report ID: RPT_02EA9F30
   - Drug recommendations: 2
   - Treatment options: 4

================================================================================
END-TO-END TEST RESULTS
================================================================================

Workflow ID: test_20251017_020538
Total Execution Time: 11.14 seconds

Agents Status: 4/5 working
  Γ£à GenomicsAgent
  Γ¥î ProteomicsAgent
  Γ£à LiteratureAgent
  Γ£à DrugAgent
  Γ£à DecisionAgent

Data Flow:
  GenomicsAgent ΓåÆ ProteomicsAgent: ΓÜá∩╕Å
  GenomicsAgent ΓåÆ LiteratureAgent: Γ£à
  GenomicsAgent ΓåÆ DrugAgent: Γ£à
  All Agents ΓåÆ DecisionAgent: Γ£à

Results Summary:
  - Genes: 0
  - Mutations: 0
  - Proteins: 0
  - Articles: 0
  - Drug Candidates: 2
  - Medical Report: Generated (RPT_02EA9F30)

Γ£à Detailed report saved to: C:\Users\Sumit\Desktop\Biomerkin\END_TO_END_TEST_REPORT.json

================================================================================
Γ£à END-TO-END TEST PASSED (4/5 agents working)
